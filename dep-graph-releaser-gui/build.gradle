buildscript {
    ext.publish_description = 'Provides the javascript for the HTML-Pipeline.'
}

apply plugin: "kotlin2js"

dependencies {
    compile prefixedProject('api-js')
    compile prefixedProject('maven-api-js')
    compile("org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version") {
        exclude group: 'org.jetbrains.kotlin'
    }
    compile("org.jetbrains.kotlinx:kotlinx-html-js:$kotlin_html_version") {
        exclude group: 'org.jetbrains.kotlin'
    }
    compile("ch.tutteli.kbox:kbox-js:$kbox_version") {
        exclude group: 'org.jetbrains.kotlin'
    }
}

compileKotlin2Js {
    kotlinOptions.moduleKind = "umd"
    kotlinOptions.sourceMap = true
    kotlinOptions.sourceMapEmbedSources = "always"
}
